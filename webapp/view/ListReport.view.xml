<mvc:View
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
	xmlns:core="sap.ui.core"
	xmlns:fb="sap.ui.comp.filterbar"
	controllerName="products.app.controller.ListReport">

		<f:DynamicPage 
			id="dynamicPageId" 
			preserveHeaderStateOnScroll="true" 
			showFooter="true" 
			fitContent="true">
			<!-- DynamicPage Title -->
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="{i18n>ListReportTitle}"/>
					</f:heading>
					
				</f:DynamicPageTitle>
			</f:title>

			<!-- DynamicPage Header -->
			<f:header>
				<f:DynamicPageHeader>
					
					<f:content>
						
						<fb:FilterBar id="filterbar" persistencyKey="myPersKey" useToolbar="false" >
							<fb:filterGroupItems >

								<fb:FilterGroupItem 
									name="search" 
									label="{i18n>NameText} {i18n>AndText} {i18n>DescriptionText}" 
									groupTitle="false" 
									groupName="HeaderFiltersGroup" 
									visibleInFilterBar="true">
									<fb:control>
										<SearchField 
											id="searcher" 
											width="100%" 
											liveChange="onFilter(null)" 	
										/>
									</fb:control>
								</fb:FilterGroupItem>

								<fb:FilterGroupItem 
									name="Availability" 
									label="{i18n>AvailabilityText}" 
									groupName="HeaderFiltersGroup" 
									visibleInFilterBar="true">
									<fb:control>
										<Select
											id="availabilitySelect"
											forceSelection="false"
											selectedKey="all"
											change="onFilter(null)"
										>
										<core:Item key="all" text="all" />
										<core:Item key="false" text="In Stock" />
										<core:Item key="true" text="Out of Stock" />
									</Select>
									</fb:control>
								</fb:FilterGroupItem>

								<fb:FilterGroupItem 
									name="Price range" 
									label="{i18n>PriceText} {i18n>RangeText}" 
									groupName="HeaderFiltersGroup" 
									visibleInFilterBar="true">
									<fb:control>
										<Select
											id="priceSelect"
											forceSelection="false"
											selectedKey="1"
											items="{PriceModel>/Range}"
											change="onFilter(null)"
										>
										<core:Item key="{PriceModel>id}" text="{PriceModel>value}" />
									</Select>
									</fb:control>
								</fb:FilterGroupItem>

								<fb:FilterGroupItem 
									name="Category" 
									label="{i18n>CategoryText}" 
									groupName="HeaderFiltersGroup" 
									visibleInFilterBar="true">
									<fb:control>
										<MultiComboBox
											id="categorySelect"
											items="{/Categories}"
											selectionChange="onFilter(null)"
										>
											<core:Item key="{Id}" text="{Name}" />
										</MultiComboBox>
									</fb:control>
								</fb:FilterGroupItem>

								<fb:FilterGroupItem 
									name="Supplier name" 
									label="{i18n>SupplierText} {i18n>NameText}" 
									groupName="HeaderFiltersGroup" 
									visibleInFilterBar="true">
									<fb:control>
										<MultiInput width="40%"
											id="multiInput"
											
											tokenUpdate="handlerTokenUpdate"
											valueHelpRequest="handleValueHelpRequest">
											<core:Item key="1" text="{Name}" />
										</MultiInput>
									</fb:control>
								</fb:FilterGroupItem>

							</fb:filterGroupItems>
						</fb:FilterBar>
					
						
					</f:content>
				</f:DynamicPageHeader>
			</f:header>
				<f:content>
				<Table
					id="table"
					inset="false"
					mode="MultiSelect"
					items="{/Products}"
				>
					<headerToolbar>
						<OverflowToolbar id="otbSubheader">
							<Title text="{i18n>ListReportTitle}" />	
						</OverflowToolbar>
					</headerToolbar>
					<columns>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>NameText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>DescriptionText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>PriceText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>QuantityText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>SupplierText} {i18n>NameText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>CategoryText}"/>
						</Column>
						<Column minScreenWidth="Tablet" demandPopin="true">
							<Text text="{i18n>AvailabilityText}"/>
						</Column>
					</columns>

					<items>
						<ColumnListItem type="Navigation" vAlign="Middle">
							<cells>
								<ObjectIdentifier title="{Name}"/>
								<Text text="{Description}" />
								<ObjectIdentifier title="{Price}" text="{Currency}" />
								<Text text="{Quantity}" />
								
								<Text 
									text="{
										path: 'Supplier',
										formatter: '.getSuppliersName'
									}" 
								/>
								
								<Text text="{
									path: 'Category',
									formatter: '.getCategoriesName'
								}" />
								<Text text="{= ${Availability} === true ? 'In Stock' : 'Out of Stock'}" />
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</f:content>
		</f:DynamicPage>

</mvc:View>